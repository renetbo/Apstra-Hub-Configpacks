{
  "version": 4,
  "terraform_version": "1.13.4",
  "serial": 5,
  "lineage": "d12d3555-acde-0fbd-8a64-e01f0c10eaeb",
  "outputs": {},
  "resources": [
    {
      "mode": "managed",
      "type": "apstra_configlet",
      "name": "example",
      "provider": "provider[\"registry.terraform.io/juniper/apstra\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "generators": [
              {
                "config_style": "junos",
                "filename": null,
                "negation_template_text": null,
                "section": "top_level_set_delete",
                "template_text": "{% for peers in bgp_sessions.itervalues() %}\n    {% for vlan in vlan.itervalues() %}\n        {% if vlan.ipv4_address == peers.source_ip %}\n            set policy-options policy-statement PL-CONFIGLET-REWRITE-NH-{{ peers.vrf_name }}-{{ peers.dest_ip}} term NH then next-hop {{ vlan.fhrp_ipv4_address }}\n            set policy-options policy-statement PL-CONFIGLET-REWRITE-NH-{{ peers.vrf_name }}-{{ peers.dest_ip}} term NH then next policy\n         delete routing-instances {{ peers.vrf_name }} protocols bgp group l3rtr neighbor {{ peers.dest_ip }} export ( {{ peers.route_map_out }} )\n            set routing-instances {{ peers.vrf_name }} protocols bgp group l3rtr neighbor {{ peers.dest_ip }} export PL-CONFIGLET-REWRITE-NH-{{ peers.vrf_name }}-{{ peers.dest_ip}}   \n            set routing-instances {{ peers.vrf_name }} protocols bgp group l3rtr neighbor {{ peers.dest_ip }} export {{ peers.route_map_out }} \n        {% endif %}\n    {% endfor %}\n{% endfor %}\n"
              }
            ],
            "id": "6a004730-ea6e-427f-8cd4-09dbe8c59ee0",
            "name": "Change next-hop for IRB based BGP"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    }
  ],
  "check_results": null
}
